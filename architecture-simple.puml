@startuml
!includeurl https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Container.puml

' ===== SIMPLIFIED STYLING (Black, White, Gray) =====
skinparam {
    BackgroundColor #FFFFFF
    shadowing false
    RoundCorner 8
    Padding 8
    
    ' Clean monochrome palette
    stereotypeCBackgroundColor #F5F5F5
    stereotypeCBorderColor #000000
    
    ' Person
    actor {
        BackgroundColor #333333
        BorderColor #000000
        FontColor #FFFFFF
        FontSize 12
    }
    
    ' Arrows
    ArrowColor #000000
    ArrowThickness 2
    ArrowFontSize 10
    ArrowFontColor #000000
}

' Override C4 colors
LAYOUT_LEFT_RIGHT()

UpdateElementStyle("person", $bgColor="#2B2B2B", $fontColor="#FFFFFF", $borderColor="#000000")
UpdateElementStyle("container", $bgColor="#E8E8E8", $fontColor="#000000", $borderColor="#000000")
UpdateElementStyle("system", $bgColor="#CCCCCC", $fontColor="#000000", $borderColor="#000000")
UpdateElementStyle("external_system", $bgColor="#F5F5F5", $fontColor="#000000", $borderColor="#666666", $borderStyle="dashed")

' ===== TITLE =====
title LUMIQ Architecture - Container View

' ===== ACTORS =====
Person(student, "Student", "End user")
Person(admin, "Admin", "Dorm owner")

' ===== EXTERNAL SYSTEMS =====
System_Ext(groq, "GROQ AI", "Llama 3.3")

' ===== SYSTEM BOUNDARY =====
System_Boundary(lumiq, "LUMIQ Platform") {
    Container(web, "Web App", "React 18 + TS", "UI Layer")
    Container(api, "API Server", "Express.js", "Business Logic")
    Container(services, "Services", "Node.js", "AI, Room, Counter")
    ContainerDb(db, "Database", "MongoDB", "Data Store")
}

' ===== RELATIONSHIPS =====
Rel_D(student, web, "Uses")
Rel_D(admin, web, "Manages")
Rel_D(web, api, "API calls", "HTTPS/JSON")
Rel_D(api, services, "Uses")
Rel_D(services, db, "CRUD")
Rel_L(services, groq, "Analyzes")

@enduml
